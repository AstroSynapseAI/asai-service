import{_ as M,D as V,I as A,B as C,r as n,o as B,c as h,x as g,f as e,L as N,C as y,h as U,k as P,F as T,M as p,T as F,y as x,z as R,N as w,q as z,t as E}from"./index-3bc6b851.js";import{u as J}from"./agent.store-1b5ff091.js";import{u as O}from"./llm.store-5c66f981.js";import{u as $}from"./avatar.store-1b14be5f.js";const a=v=>(z("data-v-f033f747"),v=v(),E(),v),q={class:"h3 mb-3"},H={class:"form-check form-switch float-end me-5"},K=a(()=>e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Active",-1)),j=["checked"],G={class:"form-check form-switch float-end me-3"},Q=a(()=>e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Public",-1)),W=["checked"],X={class:"card"},Y={class:"card-body"},Z={class:"container-fluid"},ee={class:"row"},se={class:"col-6"},te=a(()=>e("h3",{class:"mb-3"},"Primer",-1)),ae={class:"col-6"},oe={class:"row"},le={class:"col-12"},ce=a(()=>e("h3",{class:"mb-3"},"Agent Model",-1)),ne=a(()=>e("option",{value:"",disabled:"",selected:""},"Select a LLM",-1)),ie=["value"],re={class:"row"},de={clas:"col-12"},ue=a(()=>e("h3",{class:"my-3"},"Authorization",-1)),_e={class:"row"},ve={class:"col-6"},me={class:"form-floating mb-3"},pe=a(()=>e("label",{for:"smtp-username"},"Username",-1)),fe={class:"col-6"},he={class:"form-floating mb-3"},ge=a(()=>e("label",{for:"smtp-password"},"Password",-1)),we=a(()=>e("h3",{class:"my-3"},"Api Key",-1)),be={class:"row"},ke={class:"col-12"},Ae={class:"form-floating mb-3"},ye=a(()=>e("label",{for:"sender"},"Token",-1)),xe={__name:"DnBAgent",setup(v){const b=V(),l=$(),f=J(),i=A(f,"record"),c=C(),k=O(),D=A(k,"records"),r=n(""),S=n(""),m=n(""),d=n(!1),u=n(!1),o=n({username:"",password:"",token:""}),I=async()=>{const _={ID:parseInt(c.params.active_agent_id),avatar_id:parseInt(c.params.avatar_id),agent_id:parseInt(c.params.agent_id),llm_id:m.value,primer:r.value,is_active:d.value,is_public:u.value,config:JSON.stringify(o.value)};i.value.ID&&(_.ID=i.value.ID);try{await f.saveActiveAgent(_),b.success("Agent configuration saved")}catch(s){console.log(s),b.error("Error while saving agent configuration")}};return B(async()=>{try{await k.getLLMs(),await f.getAgent(c.params.agent_id),r.value=i.value.primer,S.value=i.value.name,c.params.active_agent_id&&(await l.getActiveAgent(c.params.agent_id,c.params.avatar_id),m.value=l.activeAgent.llm_id,r.value=l.activeAgent.primer,d.value=l.activeAgent.is_active,u.value=l.activeAgent.is_public,l.activeAgent.config&&(o.value=JSON.parse(l.activeAgent.config)))}catch(_){console.log(_)}feather.replace()}),(_,s)=>(h(),g(x,null,[e("h1",q,[N("Configure: "+y(i.value.name)+" ",1),e("div",H,[K,e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:d.value,onClick:s[0]||(s[0]=t=>d.value=!d.value)},null,8,j)]),e("div",G,[Q,e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:u.value,onClick:s[1]||(s[1]=t=>u.value=!u.value)},null,8,W)])]),e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[e("div",se,[te,U(P(T),{modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=t=>r.value=t),name:"agent_primer",type:"text",as:"textarea",class:"form-control",rows:"30",placeholder:"How should the agent behave..."},null,8,["modelValue"])]),e("div",ae,[e("div",oe,[e("div",le,[ce,p(e("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>m.value=t),class:"form-select model-select","aria-label":"Select Model"},[ne,(h(!0),g(x,null,R(D.value,(t,L)=>(h(),g("option",{value:t.ID,key:L},y(t.name),9,ie))),128))],512),[[F,m.value]])])]),e("div",re,[e("div",de,[ue,e("div",_e,[e("div",ve,[e("div",me,[p(e("input",{type:"text",class:"form-control",id:"smtp-username",placeholder:"username","onUpdate:modelValue":s[4]||(s[4]=t=>o.value.username=t)},null,512),[[w,o.value.username]]),pe])]),e("div",fe,[e("div",he,[p(e("input",{type:"password",class:"form-control",id:"smtp-password",placeholder:"password","onUpdate:modelValue":s[5]||(s[5]=t=>o.value.password=t)},null,512),[[w,o.value.password]]),ge])])]),we,e("div",be,[e("div",ke,[e("div",Ae,[p(e("input",{type:"text",class:"form-control",id:"sender",placeholder:"sender","onUpdate:modelValue":s[6]||(s[6]=t=>o.value.token=t)},null,512),[[w,o.value.token]]),ye])])])])])])]),e("div",{class:"row mt-3"},[e("div",{class:"col-12"},[e("button",{type:"button",class:"btn btn-secondary",onClick:I},"Save")])])])])])],64))}},Me=M(xe,[["__scopeId","data-v-f033f747"]]);export{Me as default};
