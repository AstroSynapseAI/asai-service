import{_ as L,D as M,I as A,B as V,r as n,o as N,c as m,x as f,f as e,L as $,C as S,h as B,k as E,F,M as k,T as P,y,z as R,N as w,q as U,s as G}from"./index-a4c4dc87.js";import{u as J}from"./agent.store-d7674f43.js";import{u as O}from"./llm.store-3f347d8c.js";import{u as q}from"./avatar.store-df433578.js";const a=v=>(U("data-v-39b69644"),v=v(),G(),v),z={class:"h3 mb-3"},H={class:"form-check form-switch float-end me-5"},j=a(()=>e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Active",-1)),K=["checked"],Q={class:"form-check form-switch float-end me-3"},W=a(()=>e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Public",-1)),X=["checked"],Y={class:"card"},Z={class:"card-body"},ee={class:"container-fluid"},te={class:"row"},oe={class:"col-6"},se=a(()=>e("h3",{class:"mb-3"},"Primer",-1)),ae={class:"col-6"},ce={class:"row"},le={class:"col-12"},ie=a(()=>e("h3",{class:"mb-3"},"Agent Model",-1)),ne=a(()=>e("h5",null," LLM ",-1)),de=a(()=>e("option",{value:"",disabled:"",selected:""},"Select a LLM",-1)),re=["value"],_e={class:"row"},ue={clas:"col-12"},ve=a(()=>e("h3",{class:"my-3"},"Search Tools",-1)),he={class:"form-check form-switch mb-3"},pe=a(()=>e("span",null,"Duck Duck Go",-1)),ge=["checked"],me={class:"form-check form-switch"},fe=["checked"],ke=a(()=>e("span",null," Google Search",-1)),be={class:"form-floating mb-3"},xe=a(()=>e("label",{for:"apiToken"},"Api Token",-1)),Ae={class:"form-check form-switch"},Se=["checked"],ye=a(()=>e("span",null," Exa Search",-1)),we={class:"form-floating mb-3"},De=a(()=>e("label",{for:"apiToken"},"Api Token",-1)),Te={__name:"SearchAgent",setup(v){const b=M(),l=q(),p=J(),d=A(p,"record"),i=V(),x=O(),D=A(x,"records"),r=n(""),T=n(""),h=n(""),_=n(!1),u=n(!1),o=n({ddg_is_active:!0,google_api_token:"",google_is_active:!1,exa_api_token:"",exa_is_active:!1}),g=c=>{console.log(c),c==="ddg"&&(o.value.ddg_is_active=!o.value.ddg_is_active),c==="google"&&(o.value.google_is_active=!o.value.google_is_active),c==="exa"&&(o.value.exa_is_active=!o.value.exa_is_active)},I=async()=>{const c={ID:parseInt(i.params.active_agent_id),avatar_id:parseInt(i.params.avatar_id),agent_id:parseInt(i.params.agent_id),llm_id:h.value,primer:r.value,is_active:_.value,is_public:u.value,config:JSON.stringify(o.value)};d.value.ID&&(c.ID=d.value.ID);try{await p.saveActiveAgent(c),b.success("Agent saved successfully")}catch(t){b.error("Error while saving agent"),console.log(t)}};return N(async()=>{try{await x.getLLMs(),await p.getAgent(i.params.agent_id),r.value=d.value.primer,T.value=d.value.name,i.params.active_agent_id&&(await l.getActiveAgent(i.params.agent_id,i.params.avatar_id),h.value=l.activeAgent.llm_id,r.value=l.activeAgent.primer,_.value=l.activeAgent.is_active,u.value=l.activeAgent.is_public,l.activeAgent.config&&(o.value=JSON.parse(l.activeAgent.config)))}catch(c){console.log(c)}feather.replace()}),(c,t)=>(m(),f(y,null,[e("h1",z,[$("Configure: "+S(d.value.name)+" ",1),e("div",H,[j,e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:_.value,onClick:t[0]||(t[0]=s=>_.value=!_.value)},null,8,K)]),e("div",Q,[W,e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:u.value,onClick:t[1]||(t[1]=s=>u.value=!u.value)},null,8,X)])]),e("div",Y,[e("div",Z,[e("div",ee,[e("div",te,[e("div",oe,[se,B(E(F),{modelValue:r.value,"onUpdate:modelValue":t[2]||(t[2]=s=>r.value=s),name:"agent_primer",type:"text",as:"textarea",class:"form-control",rows:"30",placeholder:"How should the agent behave..."},null,8,["modelValue"])]),e("div",ae,[e("div",ce,[e("div",le,[ie,ne,k(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>h.value=s),class:"form-select model-select","aria-label":"Select Model"},[de,(m(!0),f(y,null,R(D.value,(s,C)=>(m(),f("option",{value:s.ID,key:C},S(s.name),9,re))),128))],512),[[P,h.value]])])]),e("div",_e,[e("div",ue,[ve,e("div",he,[pe,e("input",{class:"form-check-input",type:"checkbox",id:"ddg-checkbox",onClick:t[4]||(t[4]=s=>g("ddg")),checked:o.value.ddg_is_active},null,8,ge)]),e("div",me,[e("input",{class:"form-check-input",type:"checkbox",id:"google-checkbox",onClick:t[5]||(t[5]=s=>g("google")),checked:o.value.google_is_active},null,8,fe),ke]),e("div",be,[k(e("input",{type:"text",class:"form-control",id:"apiToken",placeholder:"Tool Token","onUpdate:modelValue":t[6]||(t[6]=s=>o.value.google_api_token=s)},null,512),[[w,o.value.google_api_token]]),xe]),e("div",Ae,[e("input",{class:"form-check-input",type:"checkbox",id:"exa-checkbox",onClick:t[7]||(t[7]=s=>g("exa")),checked:o.value.exa_is_active},null,8,Se),ye]),e("div",we,[k(e("input",{type:"text",class:"form-control",id:"apiToken",placeholder:"Tool Token","onUpdate:modelValue":t[8]||(t[8]=s=>o.value.exa_api_token=s)},null,512),[[w,o.value.exa_api_token]]),De])])])])]),e("div",{class:"row mt-3"},[e("div",{class:"col-12"},[e("button",{type:"button",class:"btn btn-primary",onClick:I},"Save All")])])])])])],64))}},Ve=L(Te,[["__scopeId","data-v-39b69644"]]);export{Ve as default};
