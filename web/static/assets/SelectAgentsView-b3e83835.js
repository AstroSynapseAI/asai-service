import{_ as J,D as R,r,u as E,I as A,o as P,x as I,f as e,M as n,N as v,T as G,L as u,A as B,h as q,e as z,R as S,O as Y,K as $,c as L,q as K,t as j}from"./index-3bc6b851.js";import{u as F}from"./llm.store-5c66f981.js";import{u as H}from"./agent.store-1b5ff091.js";import{u as Q}from"./avatar.store-1b14be5f.js";const l=m=>(K("data-v-54933c6a"),m=m(),j(),m),W={class:"container"},X=S('<div class="row" data-v-54933c6a><div class="col-4 d-flex flex-column align-items-center text-center" data-v-54933c6a><div class="circle mb-5" data-v-54933c6a><h2 class="circle-text" data-v-54933c6a><i data-feather="check" style="width:36px;height:36px;" data-v-54933c6a></i></h2></div><h3 class="mb-3" data-v-54933c6a>Create Avatar</h3><p class="lead mb-5" data-v-54933c6a>Give your AI avatar a name and describe how it should behave.</p></div><div class="col-4 d-flex flex-column align-items-center text-center" data-v-54933c6a><div class="circle mb-5" data-v-54933c6a><h2 class="circle-text" data-v-54933c6a><i data-feather="check" style="width:36px;height:36px;" data-v-54933c6a></i></h2></div><h3 class="mb-3" data-v-54933c6a>Choose models</h3><p class="lead mb-5" data-v-54933c6a>Select one or more LLM models yor avatar will be using.</p></div><div class="col-4 text-center d-flex flex-column align-items-center" data-v-54933c6a><div class="circle current mb-5" data-v-54933c6a><h2 class="circle-text" data-v-54933c6a>3</h2></div><h3 class="mb-3" data-v-54933c6a>Select Agents</h3><p class="lead mb-5" data-v-54933c6a>Your AI Avatar can browse the internet, answer emails, post on social media nad more!</p></div></div>',1),Z={class:"row"},ee={class:"col-4 d-flex"},ae={class:"card h-100"},te={class:"card-body"},se=l(()=>e("h5",{class:"card-title"},[u("Search Agent "),e("i",{"data-feather":"info",class:"float-end"})],-1)),oe=l(()=>e("p",{class:"card-text"},"Utilizes search engines such as Google, DuckDuckGo, and Metaphor for automated web searches.",-1)),le={class:"card-action mt-4"},ce={class:"form-check form-switch"},ie=["checked"],re={class:"col-4 d-flex"},ne={class:"card h-100"},de={class:"card-body"},ve=l(()=>e("h5",{class:"card-title"},[u("Email Agent "),e("i",{"data-feather":"info",class:"float-end"})],-1)),_e=l(()=>e("p",{class:"card-text"},"Email agent connects to your email server, and then comopses and sends email for you. ",-1)),pe={class:"card-action mt-4"},ue={class:"form-check form-switch"},me=["checked"],he=l(()=>e("div",{class:"col-4 d-flex"},[e("div",{class:"card h-100"},[e("div",{class:"card-body"},[e("h5",{class:"card-title"},[u("Library Agent "),e("i",{"data-feather":"info",class:"float-end"})]),e("p",{class:"card-text"},"Utilizes search engines such as Google, DuckDuckGo, and Metaphor for automated web searches."),e("div",{class:"card-action mt-4"},[e("div",{class:"form-check form-switch"},[e("input",{class:"form-check-input float-end",type:"checkbox",role:"switch",id:"search-agent"})])]),e("div",{class:"card-overlay position-absolute"})])])],-1)),fe={key:0,class:"row mt-3"},ge={class:"col-8 offset-2"},be={class:"card"},ye={class:"card-body"},Se=S('<div class="row" data-v-54933c6a><div class="col-1" data-v-54933c6a><i class="fas fa-gear fa-2x float-end" data-v-54933c6a></i></div><div class="col-10" data-v-54933c6a><h2 data-v-54933c6a>Email agent setup.</h2><p class="lead" data-v-54933c6a>In order to dispatch emails yor email agent needs access to your preferd SMTP server. </p></div></div>',1),xe={class:"row"},we={class:"col-6"},ke={class:"form-floating mb-3"},Ae=l(()=>e("label",{for:"smtp-server"},"SMTP Server",-1)),Ie={class:"col-4"},Le={class:"form-floating mb-3"},Me=S('<option value="" disabled selected data-v-54933c6a>Select Encryption Type</option><option value="ssl" data-v-54933c6a>SSL</option><option value="tls" data-v-54933c6a>TLS</option><option value="starttls" data-v-54933c6a>STARTTLS</option><option value="ssltls" data-v-54933c6a>SSL/TLS</option><option value="none" data-v-54933c6a>None</option>',6),Ne=[Me],Te=l(()=>e("label",{for:"smtp-encryption"},"Encryption",-1)),Ve={class:"col-2"},De={class:"form-floating mb-3"},Ce=l(()=>e("label",{for:"smtp-port"},"Port",-1)),Ue={class:"row"},Oe={class:"col-6"},Je={class:"form-floating mb-3"},Re=l(()=>e("label",{for:"smtp-username"},"Username",-1)),Ee={class:"col-6"},Pe={class:"form-floating mb-3"},Ge=l(()=>e("label",{for:"smtp-password"},"Password",-1)),Be={class:"row"},qe={class:"col-6"},ze={class:"form-floating mb-3"},Ye=l(()=>e("label",{for:"sender"},"Sender",-1)),$e={class:"col-6"},Ke={class:"form-floating mb-3"},je=l(()=>e("label",{for:"reply-to"},"Reply To",-1)),Fe={class:"row",style:{"margin-top":"80px"}},He={class:"col-4 offset-2 text-center d-grid"},Qe={__name:"SelectAgentsView",setup(m){const M=Y(),N=R(),c=r([]),h=r(!1),_=r(!1),f=r({}),s=r({imap_server:"",smtp_server:"",imap_port:"",smtp_port:"",username:"",password:"",encryption:"",sender:"",reply_to:""}),T=r({ddg_is_active:!0,google_api_token:"",google_is_active:!1,exa_api_token:"",exa_is_active:!1}),V=E(),g=F(),x=A(g,"records"),b=H(),D=A(b,"records"),y=Q(),d=r(""),p=r(""),C=async()=>{let t=JSON.parse(localStorage.getItem("onboarding_data"));if(t)try{if(await g.getLLMs(),t.avatar_llm=="gpt"&&(d.value=x.value.find(a=>a.slug==="gpt-4")),t.avatar_llm==="mistral"&&(d.value=x.value.find(a=>a.slug==="open-mixtral-8x7b")),d.value!=""){const a={user_id:V.current.ID,name:t.avatar_name,primer:t.avatar_primer,llm:d.value.ID};await y.saveAvatar(a);const i={token:t.openai_token,is_active:!0,is_public:!1,llm_id:d.value.ID,avatar_id:y.userAvatar.ID};await g.saveLLM(i)}if(await b.getAgents(),t.avatar_agents)for(let a=0;a<t.avatar_agents.length;a++){p.value=D.value.find(o=>o.slug===t.avatar_agents[a]),p.value.slug==="email-agent"&&(f.value=s.value),p.value.slug==="search-agent"&&(f.value=T.value);let i={is_active:!0,is_public:!1,primer:p.value.primer,llm_id:d.value.ID,avatar_id:y.userAvatar.ID,agent_id:p.value.ID};f&&(i.config=JSON.stringify(f.value)),await b.saveActiveAgent(i)}localStorage.removeItem("onboarding_data")}catch(a){console.error(a),N.error("Something went worng, we couldn't create your avatar")}},w=t=>{let a=JSON.parse(localStorage.getItem("onboarding_data"));c.value.includes(t)?(t==="email-agent"&&(_.value=!1),c.value=c.value.filter(i=>i!==t)):(t==="email-agent"&&(_.value=!0),c.value.push(t)),a.avatar_agents=c.value,localStorage.setItem("onboarding_data",JSON.stringify(a))},k=t=>c.value.includes(t),U=()=>{const t=JSON.parse(localStorage.getItem("onboarding_data"));_.value=!1,h.value=!0,t.skip_smtp=h.value,localStorage.setItem("onboarding_data",JSON.stringify(t))},O=async()=>{const t=JSON.parse(localStorage.getItem("onboarding_data"));t.email_config=s.value;try{await C(),localStorage.setItem("onboarding_data",JSON.stringify(t)),M.push({name:"avatar-created"})}catch(a){console.error(a)}};return P(()=>{const t=JSON.parse(localStorage.getItem("onboarding_data"));c.value=(t==null?void 0:t.avatar_agents)||[],h.value=(t==null?void 0:t.skip_smtp)||!1,s.value=(t==null?void 0:t.email_config)||{},h.value||c.value.includes("email-agent")&&(_.value=!0),feather.replace()}),(t,a)=>{const i=$("router-link");return L(),I("div",W,[X,e("div",Z,[e("div",ee,[e("div",ae,[e("div",te,[se,oe,e("div",le,[e("div",ce,[e("input",{class:"form-check-input float-end",type:"checkbox",role:"switch",id:"search-agent",onClick:a[0]||(a[0]=o=>w("search-agent")),checked:k("search-agent")},null,8,ie)])])])])]),e("div",re,[e("div",ne,[e("div",de,[ve,_e,e("div",pe,[e("div",ue,[e("input",{class:"form-check-input float-end",type:"checkbox",role:"switch",id:"search-agent ",onClick:a[1]||(a[1]=o=>w("email-agent")),checked:k("email-agent")},null,8,me)])])])])]),he]),_.value?(L(),I("div",fe,[e("div",ge,[e("div",be,[e("div",ye,[Se,e("div",xe,[e("div",we,[e("div",ke,[n(e("input",{type:"text",class:"form-control",id:"smtp-server",placeholder:"mail.example.com","onUpdate:modelValue":a[2]||(a[2]=o=>s.value.smtp_server=o)},null,512),[[v,s.value.smtp_server]]),Ae])]),e("div",Ie,[e("div",Le,[n(e("select",{"onUpdate:modelValue":a[3]||(a[3]=o=>s.value.encryption=o),class:"form-select model-select","aria-label":"Select Model"},Ne,512),[[G,s.value.encryption]]),Te])]),e("div",Ve,[e("div",De,[n(e("input",{type:"text",class:"form-control",id:"smtp-port",placeholder:"587","onUpdate:modelValue":a[4]||(a[4]=o=>s.value.smtp_port=o)},null,512),[[v,s.value.smtp_port]]),Ce])])]),e("div",Ue,[e("div",Oe,[e("div",Je,[n(e("input",{type:"text",class:"form-control",id:"smtp-username",placeholder:"username","onUpdate:modelValue":a[5]||(a[5]=o=>s.value.username=o)},null,512),[[v,s.value.username]]),Re])]),e("div",Ee,[e("div",Pe,[n(e("input",{type:"password",class:"form-control",id:"smtp-password",placeholder:"password","onUpdate:modelValue":a[6]||(a[6]=o=>s.value.password=o)},null,512),[[v,s.value.password]]),Ge])])]),e("div",Be,[e("div",qe,[e("div",ze,[n(e("input",{type:"text",class:"form-control",id:"sender",placeholder:"sender","onUpdate:modelValue":a[7]||(a[7]=o=>s.value.sender=o)},null,512),[[v,s.value.sender]]),Ye])]),e("div",$e,[e("div",Ke,[n(e("input",{type:"text",class:"form-control",id:"reply-to",placeholder:"reply-to","onUpdate:modelValue":a[8]||(a[8]=o=>s.value.reply_to=o)},null,512),[[v,s.value.reply_to]]),je])])]),e("div",{class:"row mt-1"},[e("div",{class:"col-10 offset-1"},[e("p",{class:"text-info fs-4"},[u("You can setup your email agent later. "),e("a",{href:"#",onClick:U},"Skip for now")])])])])])])])):B("",!0),e("div",Fe,[e("div",He,[q(i,{to:{name:"choose-model"},class:"btn btn-primary btn-lg btn-back"},{default:z(()=>[u("Back")]),_:1})]),e("div",{class:"col-4 text-center d-grid"},[e("button",{class:"btn btn-primary btn-lg",onClick:O},"Next")])])])}}},aa=J(Qe,[["__scopeId","data-v-54933c6a"]]);export{aa as default};
