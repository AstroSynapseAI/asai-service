import{_ as D,D as M,E as P,G as p,H as x,u as N,r as h,I as q,o as k,x as n,f as a,h as r,e as L,k as s,c as d,F as f,J as b,y as F,z as U,C as T,p as B,q as E,s as C}from"./index-10c4e2e0.js";import{u as $}from"./avatar.store-031b079f.js";import{u as z}from"./llm.store-9bbaa2aa.js";const c=u=>(E("data-v-dd03d7d1"),u=u(),C(),u),G={class:"container-fluid p-0"},H=c(()=>a("h1",{class:"h3 mb-3"},"Personality",-1)),J={class:"row"},R={class:"col-12"},j={class:"card"},K={class:"card-body"},O={class:"row mb-5"},Q={class:"col-6"},W={class:"form-floating mb-1"},X=c(()=>a("label",{for:"floatingInput"},"Avatar name",-1)),Y={class:"col-6"},Z=c(()=>a("option",{value:"",disabled:"",selected:""},"Select a LLM",-1)),aa=["value"],ea={class:"row mb-5"},ta={class:"col-12"},sa=c(()=>a("h3",null,"Primer",-1)),oa=["disabled"],ra={key:0},la=c(()=>a("span",{class:"loader"},null,-1)),ia=[la],na={key:1},da={__name:"PersonalityView",setup(u){const y=M(),g=P({AvatarName:p().required("The Avatar Name is required"),AvatarLLMID:p().required("The LLM is required"),AvatarPrimer:p().required("The Primer is required")}),i=x({isSubmitting:!1}),S=z(),A=$(),e=N(),m=h(""),v=h(""),_=h(""),I=q(S,"records"),V=async()=>{i.isSubmitting=!0;try{const o={name:m.value,llm:v.value,primer:_.value};e.avatar.ID&&(o.ID=e.avatar.ID),await A.saveAvatar(o),y.success("Avatar saved successfully"),i.isSubmitting=!1}catch(o){y.error(o),i.isSubmitting=!1}};return k(async()=>{try{await S.getLLMs(),await e.getUserAvatar(e.current.ID),e.avatar&&(m.value=e.avatar.name,v.value=e.avatar.llm_id,_.value=e.avatar.primer)}catch(o){console.log(o)}feather.replace()}),(o,l)=>(d(),n("div",G,[H,a("div",J,[a("div",R,[a("div",j,[a("div",K,[r(s(B),{class:"container p-4",onSubmit:V,"validation-schema":s(g)},{default:L(()=>[a("div",O,[a("div",Q,[a("div",W,[r(s(f),{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=t=>m.value=t),name:"AvatarName",type:"text",class:"form-control",id:"floatingInput",placeholder:"Name your Avatar..."},null,8,["modelValue"]),X]),r(s(b),{name:"AvatarName"})]),a("div",Y,[r(s(f),{name:"AvatarLLMID",as:"select",modelValue:v.value,"onUpdate:modelValue":l[1]||(l[1]=t=>v.value=t),class:"form-select model-select mb-1","aria-label":"Select Model"},{default:L(()=>[Z,(d(!0),n(F,null,U(I.value,(t,w)=>(d(),n("option",{value:t.ID,key:w},T(t.name),9,aa))),128))]),_:1},8,["modelValue"]),r(s(b),{name:"AvatarLLMID"})])]),a("div",ea,[a("div",ta,[sa,r(s(f),{modelValue:_.value,"onUpdate:modelValue":l[2]||(l[2]=t=>_.value=t),name:"AvatarPrimer",type:"text",as:"textarea",class:"form-control mb-4",rows:"8",placeholder:""},null,8,["modelValue"]),r(s(b),{name:"AvatarPrimer"})])]),a("button",{type:"submit",class:"btn btn-secondary",disabled:i.isSubmitting},[i.isSubmitting?(d(),n("span",ra,ia)):(d(),n("span",na,"Save"))],8,oa)]),_:1},8,["validation-schema"])])])])])]))}},va=D(da,[["__scopeId","data-v-dd03d7d1"]]);export{va as default};
